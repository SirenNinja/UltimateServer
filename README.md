This plugin is way outdated. Please don't try to learn from this source code. It's not worth it.
